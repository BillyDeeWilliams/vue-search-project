(function(e){function t(t){for(var a,u,l=t[0],o=t[1],s=t[2],d=0,f=[];d<l.length;d++)u=l[d],Object.prototype.hasOwnProperty.call(r,u)&&r[u]&&f.push(r[u][0]),r[u]=0;for(a in o)Object.prototype.hasOwnProperty.call(o,a)&&(e[a]=o[a]);i&&i(t);while(f.length)f.shift()();return c.push.apply(c,s||[]),n()}function n(){for(var e,t=0;t<c.length;t++){for(var n=c[t],a=!0,l=1;l<n.length;l++){var o=n[l];0!==r[o]&&(a=!1)}a&&(c.splice(t--,1),e=u(u.s=n[0]))}return e}var a={},r={app:0},c=[];function u(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,u),n.l=!0,n.exports}u.m=e,u.c=a,u.d=function(e,t,n){u.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},u.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},u.t=function(e,t){if(1&t&&(e=u(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(u.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)u.d(n,a,function(t){return e[t]}.bind(null,a));return n},u.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return u.d(t,"a",t),t},u.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},u.p="/vue-search-project/";var l=window["webpackJsonp"]=window["webpackJsonp"]||[],o=l.push.bind(l);l.push=t,l=l.slice();for(var s=0;s<l.length;s++)t(l[s]);var i=o;c.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"148e":function(e,t,n){"use strict";var a=n("21e8"),r=n.n(a);n.d(t,"default",(function(){return r.a}))},"21e8":function(e,t,n){e.exports={belowForm:"search-form_belowForm_3YuVY",results:"search-form_results_1Hu_f",searchForm:"search-form_searchForm_37Rz3",main:"search-form_main_2OZGn"}},"56bf":function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("7a23"),r=n("1da1"),c=(n("96cf"),n("e9c4"),n("d3b7"),n("5530")),u=(n("d81d"),n("a9e3"),n("4de4"),n("ac1f"),n("841c"),n("466d"),{class:"studentRecord"}),l={class:"record"},o=["src"],s={class:"recordExpandable"},i={class:"gradeList"};function d(e,t,n,r,c,d){var f=Object(a["v"])("Tagging");return Object(a["p"])(),Object(a["f"])("div",u,[Object(a["g"])("div",l,[Object(a["g"])("div",{class:Object(a["m"])(["recordHeading",r.active&&r.recordExpanded])},[Object(a["g"])("img",{class:"studentProfilePic",src:n.pic,alt:""},null,8,o),Object(a["g"])("div",null,[Object(a["g"])("h2",null,Object(a["w"])(n.firstName)+" "+Object(a["w"])(n.lastName),1),Object(a["g"])("ul",null,[Object(a["g"])("li",null,"Email: "+Object(a["w"])(n.email),1),Object(a["g"])("li",null,"Company: "+Object(a["w"])(n.company),1),Object(a["g"])("li",null,"Skill: "+Object(a["w"])(n.skill),1),Object(a["g"])("li",null,"Average: "+Object(a["w"])(n.gradePointAverage)+"%",1)])]),Object(a["g"])("button",{onClick:t[0]||(t[0]=function(e){return r.expandRecord(e)}),class:"expandButton"})],2),Object(a["g"])("div",s,[Object(a["g"])("div",null,[Object(a["g"])("ul",i,[(Object(a["p"])(!0),Object(a["f"])(a["a"],null,Object(a["u"])(n.grades,(function(e,t){return Object(a["p"])(),Object(a["f"])("li",{key:e.id},"Test "+Object(a["w"])(t+1)+": "+Object(a["w"])(e),1)})),128))])])])]),Object(a["i"])(f,{modelValue:r.updatedTags,"onUpdate:modelValue":[t[1]||(t[1]=function(e){return r.updatedTags=e}),r.updateTags]},null,8,["modelValue","onUpdate:modelValue"])])}var f={class:"tag-input"},p={class:"tags",ref:"tagsUl"},g=["onClick"],b=["list"];function O(e,t,n,r,c,u){return Object(a["p"])(),Object(a["f"])("div",f,[Object(a["g"])("ul",p,[(Object(a["p"])(!0),Object(a["f"])(a["a"],null,Object(a["u"])(r.tags,(function(e,t){return Object(a["p"])(),Object(a["f"])("li",{key:e,class:Object(a["m"])(["tag",{duplicate:e===r.duplicate}])},[Object(a["h"])(Object(a["w"])(e)+" ",1),Object(a["g"])("button",{class:"delete",onClick:function(e){return r.removeTag(t)}},"x",8,g)],2)})),128))],512),Object(a["A"])(Object(a["g"])("input",{"onUpdate:modelValue":t[0]||(t[0]=function(e){return r.newTag=e}),type:"text",list:r.id,autocomplete:"off",onKeydown:[t[1]||(t[1]=Object(a["B"])((function(e){return r.addTag(r.newTag)}),["enter"])),t[2]||(t[2]=Object(a["B"])(Object(a["C"])((function(e){return r.addTag(r.newTag)}),["prevent"]),["tab"])),t[3]||(t[3]=Object(a["B"])((function(e){return r.newTag.length||r.removeTag(r.tags.length-1)}),["delete"]))],placeholder:"Add a tag"},null,40,b),[[a["y"],r.newTag]])])}n("25f0"),n("caad"),n("2532"),n("a434");var j={props:{name:{type:String,default:""},modelValue:{type:Array,default:function(){return[]}}},setup:function(e,t){var n=t.emit,r=Object(a["t"])(e.modelValue),c=Object(a["t"])(""),u=Math.random().toString(36).substring(7),l=function(e){e&&(r.value.includes(e)?i(e):(r.value.push(e),c.value=""))},o=function(e){r.value.splice(e,1)},s=Object(a["t"])(null),i=function(e){s.value=e,setTimeout((function(){return s.value=null}),1e3),c.value=""},d=Object(a["t"])(10),f=Object(a["t"])(null),p=function(){f.value.scrollTo(f.value.scrollWidth,0),n("update:modelValue",r.value)};return Object(a["z"])(r,(function(){return Object(a["l"])(p)}),{deep:!0}),Object(a["n"])(p),{tags:r,newTag:c,addTag:l,removeTag:o,paddingLeft:d,tagsUl:f,id:u,duplicate:s}}},v=(n("b8d8"),n("6b0d")),m=n.n(v);const h=m()(j,[["render",O],["__scopeId","data-v-086d8dc2"]]);var y=h,w={name:"Record",components:{Tagging:y},props:{pic:{type:String},firstName:{type:String},lastName:{type:String},email:{type:String},company:{type:String},skill:{type:String},grades:{type:Array},gradePointAverage:{type:Number},tags:{type:Array},id:{type:String},isExpanded:{type:Boolean,default:!1}},setup:function(e){function t(e,t,n){var a=new Date,r={value:t,expiry:a.getTime()+n};localStorage.setItem(e,JSON.stringify(r))}var n=e.isExpanded,r="active";function c(e){e.target.parentNode.classList.toggle("active"),n=!n,0==n&&(u=[])}var u=Object(a["t"])([]);function l(){var n=e.id-1,a=JSON.parse(localStorage.getItem("students")).value.students[n],r=JSON.parse(localStorage.getItem("students")).value.students,c=r;a.tags=u,c[n]=a;var l={students:c};t("students",l,36e5)}return u=e.tags,Object(a["o"])((function(){u=JSON.parse(localStorage.getItem("students")).value.students[e.id-1].tags})),{updatedTags:u,expandRecord:c,updateTags:l,recordExpanded:n,active:r}}};n("ebc3");const S=m()(w,[["render",d]]);var T=S,x={key:0},N={setup:function(e){var t=Object(a["t"])(!1),n=Object(a["t"])(""),r=Object(a["t"])("");function u(e){t.value=!1,""!=e.target.value?setTimeout((function(){t.value=!0}),200):t.value=!1}function l(e){t.value=!1,e.target.value.length>1&&setTimeout((function(){t.value=!0}),200),t.value=!1}var o=Object(a["t"])([]);null==localStorage.getItem("students")?setTimeout((function(){o=JSON.parse(localStorage.getItem("students")).value.students,o=o.map((function(e){var t=e.grades.reduce((function(e,t){return e+Number(t)}),0),n=t/e.grades.length;return Object(c["a"])(Object(c["a"])({},e),{},{gradePointAverage:n})})),o=o.map((function(e){if(!e.tags){var t=[];return Object(c["a"])(Object(c["a"])({},e),{},{tags:t})}return Object(c["a"])({},e)}))}),1e3):(o=JSON.parse(localStorage.getItem("students")).value.students,o=o.map((function(e){var t=e.grades.reduce((function(e,t){return e+Number(t)}),0),n=t/e.grades.length;return Object(c["a"])(Object(c["a"])({},e),{},{gradePointAverage:n})})),o=o.map((function(e){if(!e.tags){var t=[];return Object(c["a"])(Object(c["a"])({},e),{},{tags:t})}return Object(c["a"])({},e)})));var s=Object(a["b"])((function(){if(t)return o.filter((function(e){if(""!=r.value&&""==n.value){if(e.tags.length>0)for(var t=0;t<e.tags.length;t++)if(-1!=e.tags[t].search(r.value))return console.log("tag match"),e}else if(""==r.value&&""!=n.value){if(e.firstName.toUpperCase().match(n.value.toUpperCase())||e.lastName.toUpperCase().match(n.value.toUpperCase()))return console.log("name match"),e}else if(""!=r.value&&""!=n.value&&e.tags.length>0)for(var a=0;a<e.tags.length;a++)if(-1!=e.tags[a].search(r.value)&&(e.firstName.toUpperCase().match(n.value.toUpperCase())||e.lastName.toUpperCase().match(n.value.toUpperCase())))return console.log("tag and name match"),e}))}));return function(e,c){return Object(a["p"])(),Object(a["f"])("div",{class:Object(a["m"])(e.$style.main)},[Object(a["g"])("form",{class:Object(a["m"])(e.$style.searchForm)},[Object(a["g"])("ul",null,[Object(a["g"])("li",null,[Object(a["A"])(Object(a["g"])("input",{onInput:c[0]||(c[0]=function(e){return u(e)}),onKeydown:[c[1]||(c[1]=Object(a["B"])(Object(a["C"])((function(e){return u(e)}),["prevent"]),["enter"])),c[2]||(c[2]=Object(a["B"])((function(e){return u(e)}),["tab"])),c[3]||(c[3]=Object(a["B"])((function(e){return l(e)}),["delete"]))],type:"text","onUpdate:modelValue":c[4]||(c[4]=function(e){return n.value=e}),placeholder:"Search by name"},null,544),[[a["y"],n.value]])]),Object(a["g"])("li",null,[Object(a["A"])(Object(a["g"])("input",{onInput:c[5]||(c[5]=function(e){return u(e)}),onKeydown:[c[6]||(c[6]=Object(a["B"])(Object(a["C"])((function(e){return u(e)}),["prevent"]),["enter"])),c[7]||(c[7]=Object(a["B"])((function(e){return u(e)}),["tab"])),c[8]||(c[8]=Object(a["B"])((function(e){return l(e)}),["delete"]))],type:"text","onUpdate:modelValue":c[9]||(c[9]=function(e){return r.value=e}),placeholder:"Search by tag"},null,544),[[a["y"],r.value]])])])],2),Object(a["g"])("div",{class:Object(a["m"])(e.$style.results)},[t.value?(Object(a["p"])(),Object(a["f"])("section",x,[(Object(a["p"])(!0),Object(a["f"])(a["a"],null,Object(a["u"])(Object(a["x"])(s),(function(t){return Object(a["p"])(),Object(a["d"])(T,Object(a["k"])({id:t.id},t,{onRefreshSearch:c[10]||(c[10]=function(t){return e.updateResults(r.value,n.value)})}),null,16,["id"])})),256))])):Object(a["e"])("",!0)],2)],2)}}},_=n("148e");const k={};k["$style"]=_["default"];const C=m()(N,[["__cssModules",k]]);var U=C,I=Object(a["g"])("header",null,[Object(a["g"])("h1",null,"skills test"),Object(a["g"])("hr")],-1),P={setup:function(e){function t(e,t,n){var a=new Date,r={value:t,expiry:a.getTime()+n};localStorage.setItem(e,JSON.stringify(r))}function n(e){var t=localStorage.getItem(e);if(!t)return null;var n=JSON.parse(t),a=new Date;return a.getTime()>n.expiry?(localStorage.removeItem(e),null):n.value}return Object(a["n"])((function(){function e(){return a.apply(this,arguments)}function a(){return a=Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:null==n("students")?(fetch("https://api.hatchways.io/assessment/students").then((function(e){return e.json()})).then((function(e){return t("students",e,36e5)})).catch((function(e){return console.error(e)})),console.log("fetching...")):console.log("there already is data");case 1:case"end":return e.stop()}}),e)}))),a.apply(this,arguments)}e()})),function(e,t){return Object(a["p"])(),Object(a["f"])(a["a"],null,[I,Object(a["i"])(U)],64)}}};n("99fc");const A=P;var B=A,V=n("5502"),J=Object(V["a"])({state:{},mutations:{},actions:{},modules:{}});Object(a["c"])(B).use(J).mount("#app")},"99fc":function(e,t,n){"use strict";n("f59d")},b8d8:function(e,t,n){"use strict";n("fe98")},ebc3:function(e,t,n){"use strict";n("56bf")},f59d:function(e,t,n){},fe98:function(e,t,n){}});
//# sourceMappingURL=app.0d6ac3da.js.map